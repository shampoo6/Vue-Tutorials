<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/vue.js"></script>
</head>
<body>
<div id="app">
    <h3>计算属性如下：</h3>
    <div>
        <!-- 计算属性多用于单位换算 -->
        <input v-model="cny"/> 人民币 ≈ {{dollar}} 漂亮元
    </div>
</div>
</body>
<script>
    let vue = new Vue({
        el: '#app',
        data() {
            return {
                cny: '0'
            }
        },
        // 声明计算属性
        computed: {
            // 计算属性本质就是一个取值的方法
            dollar() {
                let num = Number(this.cny)
                // isNaN方法，判断参数是否不是数字类型，如果不是数字返回true，否则返回false
                // isNaN全称：is not a number
                if (isNaN(num)) {
                    return '-1'
                }
                // toFixed函数是Number类型中的方法
                // toFixed的作用是保留指定位数的小数
                // toFixed返回值为字符串
                return Number(num * 0.1484).toFixed(2)
            }
        },
        // 声明监听器
        watch: {
            // 方法名必须和data中的变量一致
            // 你要观察哪一个变量发生变化，就使用那一个变量的变量名
            cny(newValue, oldValue) {
                console.log('人民币的值发生了变化')
                console.log(`旧值为：${oldValue}`)
                console.log(`新值为：${newValue}`)
            }
        }
    })
</script>
</html>