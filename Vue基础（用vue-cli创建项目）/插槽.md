# 插槽

## 什么是插槽？

插槽是组件中在固定位置定义的一些插孔，用于外部父组件向该组件对接内容

## 声明插槽

插槽的种类分为三类：匿名插槽，具名插槽，作用域插槽

### 匿名插槽

```js
// 匿名插槽
const myCard = {
    template: `
        <div class="card">
            <div class="card-header">head</div>
            <div class="card-content">
                <!-- 使用slot标签声明插槽，不给插槽赋值name属性，则该插槽为匿名插槽
                插槽里的内容是插槽的默认值，当父组件不对插槽赋值时将采用该默认内容 -->
                <slot>
                    <h3>我<i style="color:red;">爱中</i>国</h3>
                </slot>
            </div>
            <div class="card-footer">footer</div>
        </div>
    `
}
```

### 具名插槽

```js
// 具名插槽
const myCard2 = {
    template: `
        <div class="card">
            <div class="card-header">
                <!-- 具名插槽 在slot标签中加入name属性给插槽命名 -->
                <slot name="header"></slot>
            </div>
            <div class="card-content">
                <slot name="content"></slot>
            </div>
            <slot></slot>
            <div class="card-footer">
                <slot name="footer"></slot>
            </div>
        </div>
    `
}
```

### 作用域插槽

```js
/* 作用域插槽 绑定一个自定义属性 将希望暴露给父组件的内容传给该属性 */
const myCard3 = {
    template: `
        <div class="card">
            <div class="card-header">
                <slot name="header"></slot>
            </div>
            <div class="card-content">
                <!-- 作用域插槽不能是具名插槽 -->
                <slot :slotSex="sex" :slotUser="user"></slot>
            </div>
        </div>
    `,
    data() {
        return {
            user: {
                name: '张三',
                age: 16
            },
            sex: 'male'
        }
    }
}
```

## 使用插槽

### 匿名插槽

```vue
<card>
    <!-- 匿名插槽
        该插槽没有名字 直接使用 slot 标签即可
        作用：将组件内的标签体插入到 slot 标签处
    -->
    <h1><span style="color: red">hello</span> world</h1>
</card>
```

### 具名插槽
```vue
<card2>
    <!-- 具名插槽
        插槽标签上需要注明名称 例如 <slot name="header"></slot>
        使用的时候在父组件中使用 template 标签插入内容到插槽中
    -->
    <template v-slot:footer>
        我的footer
    </template>
    <!-- 使用 v-slot 指令指定插入内容到哪一个插槽 -->
    <template v-slot:header>
        我的插槽header
    </template>
    <!-- v-slot缩写 -->
    <template #content>
        我的content
    </template>
    <!-- 在存在具名插槽的组件中若想使用匿名插槽 请将内容插入到 default 中 -->
    <template #default>
        default
    </template>
</card2>
```

### 作用域插槽

```vue
<card3>
    <!-- 作用域插槽 固定格式 -->
    <template slot-scope="scope">
        <!-- 插槽内部可以使用scope访问组件内暴露出来的slotUser和slotSex属性 -->
        <p><b style="color: blue">{{scope.slotUser.name + ' ' + scope.slotUser.age + ' ' + scope.slotSex}}</b></p>
    </template>
</card3>
```

> 注意：作用域插槽不能是具名插槽

## 组件内读取插槽的值
```js
// 组件内部可以使用 $slots 读取插槽的值
mounted() {
    console.log(this.$slot)
}
```